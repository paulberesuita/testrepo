{"version":3,"sources":["App.js","Profile.js","Gallery.js","index.js","secret/spotify-credentials.js"],"names":["App","require","props","_this","Object","_Users_paulberesuita_Downloads_mini_react_project_master_music_master_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_paulberesuita_Downloads_mini_react_project_master_music_master_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_paulberesuita_Downloads_mini_react_project_master_music_master_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","AUTHORIZATION_HEADER","globalAccessToken","Buffer","id","secret","toString","state","query","artist","tracks","console","log","axios","get","then","res","catch","error","_this2","FETCH_URL","BASE_URL","accessToken","fetch","method","headers","Authorization","mode","cache","response","json","artists","items","setState","concat","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_bootstrap__WEBPACK_IMPORTED_MODULE_7__","react_bootstrap__WEBPACK_IMPORTED_MODULE_8__","react_bootstrap__WEBPACK_IMPORTED_MODULE_9__","type","placeholder","value","onChange","event","target","onKeyPress","key","search","Addon","onClick","react_bootstrap__WEBPACK_IMPORTED_MODULE_10__","glyph","requestNewToken","_Profile__WEBPACK_IMPORTED_MODULE_11__","_Gallery__WEBPACK_IMPORTED_MODULE_12__","Component","Profile","name","followers","total","images","url","genres","alt","src","map","genre","k","length","Gallery","playingUrl","audio","playing","previewUrl","Audio","pause","play","track","trackImg","album","playAudio","preview_url","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_2__","ReactDOM","render","document","getElementById","d"],"mappings":"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","file":"static/js/main.e4298e3f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { FormGroup, FormControl, InputGroup, Glyphicon } from \"react-bootstrap\";\nimport Profile from \"./Profile\";\nimport Gallery from \"./Gallery\";\nimport { id, secret } from \"./secret/spotify-credentials\";\nimport axios from 'axios';\n\n// const express = require('express');\nconst request = require(\"request\");\nconst base64 = require(\"base-64\");\n\nclass App extends Component {\n  AUTHORIZATION_HEADER = \"\";\n  globalAccessToken = \"\";\n\n  constructor(props) {\n    super(props);\n\n    // this.AUTHORIZATION_HEADER = base64.encode(`${id}:${secret}`);\n    this.AUTHORIZATION_HEADER = new Buffer(id + \":\" + secret).toString(\n      \"base64\"\n    );\n    this.state = {\n      query: \"\",\n      artist: null,\n      tracks: []\n    };\n  }\n\n  requestNewToken() {\n    console.log(id, secret);\n\n    // var authOptions = {\n    //   url: \"https://accounts.spotify.com/api/token\",\n    //   method: \"POST\",\n    //   headers: {\n    //     Authorization: `Basic ${this.AUTHORIZATION_HEADER}`,\n    //     Cookie: \"test\"\n    //   },\n\n    // };\n\n    axios\n      .get('/sendbacktoen', {})\n      .then(res => {\n        console.log('test');\n        var test = res[\"data\"];\n        console.log('test');\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n    // fetch(\"/\", {\n    //   method: \"GET\"\n    //   // headers: {\n    //   //   Authorization: `Basic ${this.AUTHORIZATION_HEADER}`\n    //   // },\n    //   // mode: \"cors\",\n    //   // cache: \"default\",\n    //   // form: { grant_type: \"client_credentials\" },\n    //   // json: true\n    // })\n    //   .then(response => {\n    //     console.log(\"test\")\n    //     response.json()\n    //   })\n    //   .then(json => {});\n\n    // request.post(authOptions, function(error, response, body) {\n    //   console.log(JSON.stringify(response));\n    //   console.log(JSON.stringify(error));\n    //   console.log(JSON.stringify(body));\n    // });\n\n    // request(\n    //   {\n    //     url: \"https://accounts.spotify.com/api/token\",\n    //     method: \"POST\",\n    //     headers: { Authorization: `Basic ${this.AUTHORIZATION_HEADER}` },\n    //     form: { grant_type: \"client_credentials\" }\n    //   },\n    //   (error, response, body) => {\n    //     console.log(JSON.stringify(response));\n    //     console.log(JSON.stringify(error));\n    //     console.log(JSON.stringify(body));\n    //     this.globalAccessToken = JSON.parse(body).access_token;\n    //   }\n    // );\n  }\n\n  search() {\n    console.log(\"this.state\", this.state);\n    const BASE_URL = \"https://api.spotify.com/v1/search?\";\n    let FETCH_URL = BASE_URL + \"q=\" + this.state.query + \"&type=artist&limit=1\";\n    const ALBUM_URL = \"https://api.spotify.com/v1/artists/\";\n    var accessToken =\n      \"BQAv1OrsRGTBkUR7Wy1Jm_sW0iqzk5S5FV3leTL07DljbU9sWN17xDecpn0jp3gX8UVX2L2Yof61V05x9s73Ne5_ys2AhWZy1CspCFue3zeS2Ntiy47XURt-yGiT_JEnfn3RSbxfIcT1Xns55qg6gf-SZPbw-SZjRPdcS5j4wAX_bAYnjhJobN7sh264VjCkv5u7N_hpBKi7e81op9nUTgaIVIx8rNfmHCEqAOsiWBu2OX_zPXYSRLa-osH3mNohj4fyfqxv_mt8V0XaAWErqg\";\n\n    fetch(FETCH_URL, {\n      method: \"GET\",\n      headers: {\n        Authorization: \"Bearer \" + accessToken\n      },\n      mode: \"cors\",\n      cache: \"default\"\n    })\n      .then(response => response.json())\n      .then(json => {\n        const artist = json.artists.items[0];\n        this.setState({ artist });\n\n        FETCH_URL = `${ALBUM_URL}${artist.id}/top-tracks?country=US&`;\n        fetch(FETCH_URL, {\n          method: \"GET\",\n          headers: {\n            Authorization: \"Bearer \" + accessToken\n          },\n          mode: \"cors\",\n          cache: \"default\"\n        })\n          .then(response => response.json())\n          .then(json => {\n            console.log(\"artist's top tracks:\", json);\n            const { tracks } = json;\n            this.setState({ tracks });\n          });\n      });\n  }\n\n  render() {\n    return <div className=\"App\">\n        <div className=\"App-title\">Song Player Thingamajig</div>\n        <FormGroup>\n          <InputGroup>\n            <FormControl type=\"text\" placeholder=\"Search for an Artist\" value={this.state.query} onChange={event => {\n                this.setState({ query: event.target.value });\n              }} onKeyPress={event => {\n                if (event.key === 'Enter') {\n                  this.search();\n                }\n              }} />\n            <InputGroup.Addon onClick={() => this.search()}>\n              <Glyphicon glyph=\"search\" />\n            </InputGroup.Addon>\n            <InputGroup.Addon onClick={() => this.requestNewToken()}>\n              <Glyphicon glyph=\"envelope\" />\n            </InputGroup.Addon>\n          </InputGroup>\n        </FormGroup>\n        {this.state.artist !== null ? <div>\n            <Profile artist={this.state.artist} />\n            <Gallery tracks={this.state.tracks} />\n          </div> : <div />}\n      </div>;\n  }\n}\n\nexport default App;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\n\nclass Profile extends Component {\n  render() {\n    let artist = {\n      name: \"\",\n      followers: { total: \"\" },\n      images: [{ url: \"\" }],\n      genres: []\n    };\n    artist = this.props.artist !== null ? this.props.artist : artist;\n\n    return (\n      <div className=\"profile\">\n        <img alt=\"Profile\" className=\"profile-img\" src={artist.images[0].url} />\n        <div className=\"profile-info\">\n          <div className=\"profile-name\">{artist.name}</div>\n          <div className=\"profile-followers\">\n            {artist.followers.total} followers\n          </div>\n          <div className=\"profile-genres\">\n            {artist.genres.map((genre, k) => {\n              genre =\n                genre !== artist.genres[artist.genres.length - 1]\n                  ? ` ${genre},`\n                  : ` & ${genre}`;\n              return <span key={k}>{genre}</span>;\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\n\nclass Gallery extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playingUrl: \"\",\n      audio: null,\n      playing: false\n    };\n  }\n\n  playAudio(previewUrl) {\n    let audio = new Audio(previewUrl);\n    if (!this.state.playing) {\n      audio.play();\n      this.setState({\n        playing: true,\n        playingUrl: previewUrl,\n        audio\n      });\n    } else {\n      if (this.state.playingUrl === previewUrl) {\n        this.state.audio.pause();\n        this.setState({\n          playing: false\n        });\n      } else {\n        this.state.audio.pause();\n        audio.play();\n        this.setState({\n          playing: true,\n          playingUrl: previewUrl,\n          audio\n        });\n      }\n    }\n  }\n\n  render() {\n    const { tracks } = this.props;\n    console.log(this.props);\n    return (\n      <div>\n        {tracks.map((track, k) => {\n          const trackImg = track.album.images[0].url;\n          return (\n            <div\n              key={k}\n              className=\"track\"\n              onClick={() => this.playAudio(track.preview_url)}\n            >\n              <img src={trackImg} className=\"track-img\" alt=\"track\" />\n              <div className=\"track-play\">\n                <div className=\"track-play-inner\">\n                  {this.state.playingUrl === track.preview_url ? (\n                    <span>| |</span>\n                  ) : (\n                    <span>&#9654;</span>\n                  )}\n                </div>\n              </div>\n              <p className=\"track-text\">{track.name}</p>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default Gallery;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// const id = \"204aac3414f644fe91ce49d8d5309130\";\n// const secret = \"e6ec1552efdd45b3b62a518341e79aa9\";\n\nconst id = '41ebc06cab4d4476a728f51e77ba26cc';\nconst secret = 'e882284fbb8f428a87914d91e6db3f39';\n\nvar client_id = \"CLIENT_ID\"; // Your client id\nvar client_secret = \"CLIENT_SECRET\"; // Your secret\nvar redirect_uri = \"REDIRECT_URI\"; // Your redirect uri\n\nexport { id, secret };\n"],"sourceRoot":""}